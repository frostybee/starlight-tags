---
/**
 * MDX-compatible wrapper for LearningTrack component
 */
import { LearningTrack } from 'starlight-tags/components';
import { TagsProcessor } from 'starlight-tags';
import { config } from 'virtual:starlight-tagging/config';

interface Props {
  /** Subject to show learning track for (e.g., "php") */
  subject: string;
  /** Show progress indicator */
  showProgress?: boolean;
  /** Current tag ID (to highlight position) */
  currentTagId?: string;
  /** Maximum items per difficulty level */
  maxItemsPerLevel?: number;
}

const {
  subject,
  showProgress = true,
  currentTagId,
  maxItemsPerLevel = 5
} = Astro.props;

const processor = new TagsProcessor(config, console);
await processor.initialize();

const tagsMap = processor.getTags();
---

<LearningTrack
  subject={subject}
  tagsMap={tagsMap}
  showProgress={showProgress}
  currentTagId={currentTagId}
  maxItemsPerLevel={maxItemsPerLevel}
/>
